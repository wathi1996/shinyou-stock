<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Shinyou Stock</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding: 2rem; background: #f8f9fa; }
    h1 { color: #dc3545; }
    .dot { height: 12px; width: 12px; background: #dc3545; border-radius: 50%; display: inline-block; margin-right: 8px; }
    .nav-pills .nav-link.active { background-color: #dc3545; }
  </style>
</head>
<body>
  <h1><span class="dot"></span>р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕Хр╣Зр╕нр╕Б Shinyou Shabu</h1>

  <!-- Navigation Tabs -->
  <ul class="nav nav-pills my-4" id="tabs">
    <li class="nav-item"><a class="nav-link active" data-tab="stock">ЁЯУж р╕кр╕Хр╣Зр╕нр╕Бр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н</a></li>
    <li class="nav-item"><a class="nav-link" data-tab="stockin">тЮХ р╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓</a></li>
    <li class="nav-item"><a class="nav-link" data-tab="stockout">тЮЦ р╣Ар╕Ър╕┤р╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓</a></li>
    <li class="nav-item"><a class="nav-link" data-tab="adjust">ЁЯФБ р╕Ыр╕гр╕▒р╕Ър╕кр╕Хр╣Зр╕нр╕Б</a></li>
  </ul>

  <!-- Tabs Content -->
  <div id="tab-stock" class="tab-pane">
    <h5>ЁЯУж р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф</h5>
    <div class="table-responsive mt-2">
      <table class="table table-bordered">
        <thead class="table-danger">
          <tr>
            <th>#</th>
            <th>р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓</th>
            <th>р╕лр╕бр╕зр╕Ф</th>
            <th>р╕Лр╕▒р╕Юр╕Юр╕ер╕▓р╕вр╣Ар╕нр╕нр╕гр╣М</th>
            <th>р╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н</th>
            <th>р╕лр╕Щр╣Ир╕зр╕в</th>
          </tr>
        </thead>
        <tbody id="productTable"><tr><td colspan="6">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</td></tr></tbody>
      </table>
    </div>
  </div>

  <div id="tab-stockin" class="tab-pane d-none">
    <h5>тЮХ р╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Ар╕Вр╣Йр╕▓р╕Др╕ер╕▒р╕З</h5>
    <p>ЁЯУМ р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕кр╣Ир╕Яр╕нр╕гр╣Мр╕бр╕Бр╕гр╕нр╕Бр╕Ир╕│р╕Щр╕зр╕Щ р╕зр╕▒р╕Щр╕Чр╕╡р╣И р╣Бр╕ер╕░р╕Бр╕Фр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Чр╕╡р╣Ир╕Щр╕╡р╣И</p>
  </div>

  <div id="tab-stockout" class="tab-pane d-none">
    <h5>тЮЦ р╣Ар╕Ър╕┤р╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕Др╕ер╕▒р╕З</h5>
    <p>ЁЯУМ р╕лр╕Щр╣Йр╕▓р╕Щр╕╡р╣Йр╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Ър╕┤р╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ</p>
  </div>

  <div id="tab-adjust" class="tab-pane d-none">
    <h5>ЁЯФБ р╕Ыр╕гр╕▒р╕Ър╕кр╕Хр╣Зр╕нр╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓</h5>
    <p>ЁЯУМ р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╕гр╕зр╕Ир╕Щр╕▒р╕Ър╣Бр╕ер╕░р╕Ыр╕гр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╕кр╕Хр╣Зр╕нр╕Бр╣Гр╕лр╣Йр╕Хр╕гр╕Зр╕Бр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕Ир╕гр╕┤р╕З</p>
  </div>

  <script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwatMkBjnL-hct6ULNiJZTsiRVcVTzoVEpE_c6hmN8z7w3WRuh9vg-so_8_qlQ5ux0AqQ/exec?action=getProducts";

    async function loadProducts() {
      try {
        const res = await fetch(SCRIPT_URL);
        const data = await res.json();
        const table = document.getElementById("productTable");
        table.innerHTML = "";

        data.forEach((p, index) => {
          const row = document.createElement("tr");
          row.innerHTML = 
            <td>${index + 1}</td>
            <td>${p.name || '-'}</td>
            <td>${p.category || '-'}</td>
            <td>${p.supplier || '-'}</td>
            <td>${p.stock ?? 0}</td>
            <td>${p.unit || '-'}</td>
          ;
          table.appendChild(row);
        });
      } catch (error) {
        document.getElementById("productTable").innerHTML =
          <tr><td colspan="6" class="text-danger text-center">р╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И</td></tr>;
      }
    }

    function setupTabs() {
      const tabs = document.querySelectorAll('#tabs .nav-link');
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => t.classList.remove('active'));
          tab.classList.add('active');

          const target = tab.getAttribute('data-tab');
          document.querySelectorAll('.tab-pane').forEach(pane => {
            pane.classList.add('d-none');
          });
          document.getElementById(tab-${target}).classList.remove('d-none');
        });
      });
    }

    window.onload = function () {
      loadProducts();
      setupTabs();
    };
  </script>
</body>
</html>
